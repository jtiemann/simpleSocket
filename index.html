<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Listing 8.3</title>
<link rel="icon" href="data:;base64,=">
  <script type="application/javascript" src="https://unpkg.com/@reactivex/rxjs@6.1.0/dist/global/rxjs.umd.js"></script>
  <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.22.1/ramda.min.js"></script>
</head>
<body>
  <p>
    This listing requires you see console and do a socket$.next  
    ex:        
    socket$.next({
      event: 'events',
      data: 'blah blah...',
  })
  </p>
  <script>
        const { WebSocketSubject } = rxjs.webSocket;
        const socket$ = new WebSocketSubject('ws://192.168.0.117:1337');
        socket$.subscribe(
                (data) => console.log(data),
                (err) => console.error(err),
                () => console.warn('Completed!')
            );
        socket$.next({
            event: 'events',
            data: 'test',
        });
        console.log('here')
    </script>
</body>
</html>